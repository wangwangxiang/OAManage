
<head>
<link rel="stylesheet" type="text/css" href="~/H-Ui/static/h-ui/css/H-ui.min.css" />
<link rel="stylesheet" type="text/css" href="~/H-Ui/static/h-ui.admin/css/H-ui.admin.css" />
<link rel="stylesheet" type="text/css" href="~/H-Ui/lib/Hui-iconfont/1.0.8/iconfont.css" />
<link rel="stylesheet" type="text/css" href="~/H-Ui/static/h-ui.admin/skin/default/skin.css" id="skin" />
<link rel="stylesheet" type="text/css" href="~/H-Ui/static/h-ui.admin/css/style.css" />
<!--[if IE 6]>
<script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
<title>员工详细信息</title>



   

</head>
@model OA_System.UserInfo
<body>

<nav class="breadcrumb"><i class="Hui-iconfont"></i> 首页 <span class="c-gray en">&gt;</span> 员工信息 <a class="btn btn-success radius r" style="line-height:1.6em;margin-top:3px" href="javascript:location.replace(location.href);" title="刷新"><i class="Hui-iconfont"></i></a></nav>

<form class="form form-horizontal" id="form-article-add">
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>登录名：</label>
			<div class="formControls col-xs-8 col-sm-9">
                <input type="hidden" value="@Model.ID" name="ID" />
				<input class="input-text" value="" placeholder="@Model.LoginName" id="LoginName" name="LoginName" type="text">
			</div>
		</div>

    	<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>真实姓名：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserName" id="UserName" name="UserName" type="text">
			</div>
		</div>
      <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>编号：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserNum" id="UserNum" name="UserNum" type="text">
			</div>
		</div>

    	<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>密码：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserPwd" id="UserPwd" name="UserPwd" type="text">
			</div>
		</div>

    	<div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>性别：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<label class="form-label col-xs-4 col-sm-2"><input type="radio" name="UserSex"  value="0"/>男</label><label class="form-label col-xs-4 col-sm-2"><input type="radio" name="UserSex" value="1" />女</label>
			</div>
		</div>
		
		
           <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>年龄：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserAge" id="UserAge" name="UserAge" type="text">
			</div>
		</div>
            
         <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>地址：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserAddress" id="UserAddress" name="UserAddress" type="text">
			</div>
		</div>
  

    <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>电话：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserTel" id="UserTel" name="UserTel" type="text">
			</div>
		</div>
    <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>邮箱：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.UserEmail" id="UserEmail" name="UserEmail" type="text">
			</div>
		</div>

    <div class="row cl">
			<label class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>学历：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input class="input-text" value="" placeholder="@Model.XueLi" id="XueLi" name="XueLi" type="text">
			</div>
		</div>
      
    <br />
    <div style="margin-left:46%;">
 
                    <a class="btn btn-primary radius"href="#" id="updateBtn"><i class="Hui-iconfont"></i> 修改</a>
                
                <a href="#" id="cancleBtn" class="btn btn-cancle radius"><i class="Hui-iconfont"></i>取消</a>
      
   </div>
	</form>

    <script src="~/JS/jquery-1.9.1.min.js"></script>
    <script src="~/JS/layer/layer.js"></script>

   <script>

       $(function () {


           $("#cancleBtn").click(function () {

               location.href = "/Employ/Index";
           });


           $("#updateBtn").click(function () {
             
               //登录名
               var loginName = $("#LoginName").val();

               //真实姓名

               var realName = $("#UserName").val();

               //编号

               var userNum = $("#UserNum").val();

               //密码
               var loginPwd = $("#UserPwd").val();

               //密码

               var userSex = $("#UserSex").val();

               

               if ($("input[type='radio']:checked") == true)
               {
                   $("#userSex").val();
               }

               //电话

               var userTel = $("#UserTel").val();

               //邮箱

               var userEmail = $("#UserEmail").val();

               //学历

               var userXue = $("#XueLi").val();

               //修改验证

               if (loginName == "")
               {
                   layer.open({

                       title: '温馨提示',
                       content: '登录名不能为空',
                       btn:['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               if (realName == "")
               {
                   layer.open({

                       title: '温馨提示',
                       content: '真实姓名不能为空！',
                       btn: ['确定'],
                       yes: function () {
                           layer.closeAll();

                       }

                   });
               }

               //登录名正则表达式

               var reName =new RegExp("^[a-zA-Z0-9]{6,12}$");

               if (!reName.test(loginName))
               {
                   layer.open({

                       title: '温馨提示',
                       content: '登录名由6到12位的字母，数字组成',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               if (userNum == "") {
                   layer.open({

                       title: '温馨提示',
                       content: '编号不能为空',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               var rePwd = new RegExp("^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,12}$");

               if (loginPwd == "") {
                   layer.open({

                       title: '温馨提示',
                       content: '密码不能为空',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               if (!rePwd.test(loginPwd)) {
                   layer.open({

                       title: '温馨提示',
                       content: '密码必须是字母和数字，长度为6到12位组成',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               if (userTel == "") {
                   layer.open({

                       title: '温馨提示',
                       content: '电话号码不能为空',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               var reTel = new RegExp("[0-9]{11}");

               if (!reTel.test(userTel))
               {
                   layer.open({

                       title: '温馨提示',
                       content: '请输入正确的手机号',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();

                       }

                   });
                   return;
               }

               if (userEmail == "")
               {
                   layer.open({
                       title: '温馨提示',
                       content: '邮箱不能为空！',
                       btn: ['确定'],
                       yes: function () {

                           layer.closeAll();
                       }
                   });
                   return;
               }

               var reEmail = new RegExp("^([a-zA-Z0-9_\.\-])+@@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})$");
               if (!reEmail.test(userEmail))
               {
                   layer.open({
                       title: '温馨提示',
                       content: '请输入正确邮箱格式',
                       btn: ['确定'],
                       yes: function () {
                           layer.closeAll();
                       }
                   });
                   return;
               }

               if (userXue == "")
               {
                   layer.open({
                       title: '温馨提示',
                       content: '学历不能为空!',
                       btn: '确定',
                       yes: function () {

                           layer.closeAll();
                       }
                   });
                   return;
               }



               ///序列化表单
               var formData = $("#form-article-add").serializeArray();

             
               //解析成字符串

               var jonstr = "{";

               for (var i = 0; i < formData.length; i++) {

                   jonstr += "\""+formData[i].name + "\":\"" + formData[i].value+"\"";

                   if (i != formData.length - 1)
                   {
                       jonstr +=",";
                   }

               }

               jonstr += "}";

               $.ajax({

                   url: '/Employ/UpdateEmployById',
                   type: 'post',
                   data: { frmdate: jonstr },
                   success: function (resultDate)
                   {
                      
                       if (resultDate.message == "scuccess") {
                         
                           layer.open({
                               title: '温馨提示',
                               content: '修改成功',
                               btn: ['确定'],
                               yes: function () {

                                   location.href = "/Employ/Index";
                               }

                           });
                       } else
                       {
                           layer.open({
                               title: '温馨提示',
                               content: '修改失败',
                               btn: ['确定'],
                               yes: function () {

                                   location.href = "/Employ/Index";
                               }

                           });
                       }
                   }



               });



           });

       });

   </script>

  </body>